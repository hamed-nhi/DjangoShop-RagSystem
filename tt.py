import os
from dotenv import load_dotenv

print("--- ๐ ุงุณฺฉุฑูพุช ุชุณุช ฺฉูุฏ API ุดุฑูุน ุดุฏ ---")

# ูุฑุญูู ฑ: ฺฉูุฏ ุฑุง ูุจู ุงุฒ ุฎูุงูุฏู ูุงู .env ุจุฑุฑุณ ูโฺฉูู
# ุงู ูุดุงู ูโุฏูุฏ ฺฉู ุขุง ฺฉูุฏ ุงุฒ ูุจู ุฏุฑ ูุญุท ุณุณุชู (ููุฏูุฒ) ูุฌูุฏ ุฏุงุฑุฏ ุง ูู
print("\n[ูุฑุญูู ฑ] ุจุฑุฑุณ ูุชุบุฑ ูุญุท ุงุฒ ูพุด ููุฌูุฏ...")
key_before = os.getenv("OPENAI_API_KEY")

if key_before:
    print(f"ฺฉ ฺฉูุฏ ุงุฒ ูพุด ููุฌูุฏ ูพุฏุง ุดุฏ: {key_before[:20]}...{key_before[-20:]}")
else:
    print("ูฺ ฺฉูุฏ ุงุฒ ูพุด ููุฌูุฏ ูพุฏุง ูุดุฏ.")

# ูุฑุญูู ฒ: ุชูุงุด ุจุฑุง ุฎูุงูุฏู ูุงู .env
print("\n[ูุฑุญูู ฒ] ุฏุฑ ุญุงู ุชูุงุด ุจุฑุง ุฎูุงูุฏู ูุชุบุฑูุง ุงุฒ ูุงู .env...")
# ุชุงุจุน load_dotenv ูุงู .env ุฑุง ุฏุฑ ููู ูพูุดู ูพุฏุง ูโฺฉูุฏ
# ููู: ุงู ุชุงุจุน ฺฉ ูุชุบุฑ ูุญุท ุงุฒ ูพุด ููุฌูุฏ ุฑุง ุจุงุฒููุณ ููโฺฉูุฏ
load_dotenv()
print("ูุงู .env ูพุฑุฏุงุฒุด ุดุฏ.")

# ูุฑุญูู ณ: ฺฉูุฏ ุฑุง ุจุนุฏ ุงุฒ ุฎูุงูุฏู ูุงู .env ุจุฑุฑุณ ูโฺฉูู
# ุงู ููุฏุงุฑ ุงุณุช ฺฉู ุจุฑูุงูู ุดูุง ุฏุฑ ููุงุช ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ
print("\n[ูุฑุญูู ณ] ุจุฑุฑุณ ููุฏุงุฑ ููุง ฺฉูุฏ...")
final_key = os.getenv("OPENAI_API_KEY")

if final_key:
    print(f"โ ฺฉูุฏ ฺฉู ุจุฑูุงูู ูพุงุชูู ุดูุง ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ: {final_key[:8]}...{final_key[-6:]}")
else:
    print("โ ุญุช ูพุณ ุงุฒ ุจุฑุฑุณ ูุงู .env ูู ูฺ ฺฉูุฏ ูพุฏุง ูุดุฏ.")

print("\n--- ๐ ุงุณฺฉุฑูพุช ุชุณุช ุชูุงู ุดุฏ ---")